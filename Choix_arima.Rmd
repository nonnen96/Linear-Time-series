---
title: "R Notebook"
output: html_notebook
---

```{r}
library(zoo)
library(tseries)
library(urca)

```

```{r}
df <- read.csv("valeurs_mensuelles.csv", sep = ";", skip=7)
df <- df[, 1:2]
colnames(df) <- c("DATE", "VALUES")
```

This project involves loading a dataset containing monthly values from a CSV file. The data is processed by skipping the initial rows that contain metadata, and the first two columns, which represent the date and corresponding values, are extracted. These columns are then renamed to "DATE" and "VALEURS" for clearer analysis and visualization in the subsequent steps of the project.

```{r}
df$DATE <- as.Date(paste(df$DATE, "-01", sep=""), format="%Y-%m-%d")
time_series_zoo <- zoo(df$VALUES, order.by = df$DATE)
head(time_series_zoo)
```

```{r}
plot(time_series_zoo, type = "l", col = "blue", lwd = 2, 
     xlab = "Date", ylab = "Values", 
     main = "Time Series Plot of values")
```

The time series appears to exhibit a clear trend, indicating that it is not stationary. A stationary time series should have constant statistical properties, such as mean and variance, over time. However, the observed trend suggests that the mean of the series is changing over time, which is a characteristic of non-stationarity.

```{r}
times_series=ts(time_series_zoo, frequency = 12)
acf(times_series)
pacf(times_series)
```

The autocorrelation function (ACF) shows a persistent correlation at higher lags, indicating that the series does not decay quickly to zero. This suggests that the series exhibits long-term dependencies and likely contains trends or seasonality, meaning it is not stationary. Given this, we will proceed with differencing the series to remove the trend and make it stationary.

```{r}
time_series_zoo_diff <- diff(time_series_zoo)
plot(time_series_zoo_diff, type = "l", col = "blue", lwd = 2, 
     xlab = "Time", ylab = "Differenced Values", 
     main = "Differenced Time Series")
```

The drift that was present in the original series seems to have been effectively corrected, as the differenced values no longer exhibit the same persistent trend. This suggests that the differencing step has successfully stabilized the mean of the series, making it more suitable for further analysis, such as modeling or forecasting.

```{r}
adf_test_result <- adf.test(time_series_zoo_diff, alternative = "stationary")
adf_test_result
```

The ADF test confirms that the series is now stationary, as the p-value is 0.01.

```{r}
times_series_diff=ts(time_series_zoo_diff, frequency = 12)
```

```{r}
acf(times_series_diff)
pacf(times_series_diff)
```

The ACF decreases rapidly after a few lags, indicating that the series is well stationary. Since the series is stationary by differenciating it, it is integrated of order d = 1. The complete autocorrelation functions are statistically significant (i.e. bigger than the bounds ±1, 96/√n of the confidence interval of a null test of the autocorrelation at the 95% level) until q∗ =3 and the partial autocorrelation until p∗ = 3. If y follows an ARIMA(p,d,q), it follows at most an ARIMA(p∗ = 6, d∗ =1,q\*= 3, which we can estimate.
